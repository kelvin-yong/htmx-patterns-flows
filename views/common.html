{{ block "head" . }}
<head>
    <title>HTMX Patterns</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.6/dist/htmx.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="static/css/index.css">
    <script>
        document.addEventListener("DOMContentLoaded", (event) => {
            // consider using <meta name="htmx-config" content='{"responseHandling": [...]}' /> instead
            document.body.addEventListener("htmx:beforeSwap", (evt) => {
                if (evt.detail.xhr.status === 422) {
                    evt.detail.shouldSwap = true;
                    evt.detail.isError = false;
                }
            });
            document.body.addEventListener("logoutEvent", function(evt){
                alert(evt.detail.level + ": " + evt.detail.details);   
            });
        });
    </script>
</head>
{{ end }}

{{ block "header" .}}
<header class="sticky-top">
    <h1 class="h4 mb-0">HTMX Patterns</h1>
</header>
{{ end }}

{{ block "sidebar" .}}
  <details class="mb-3" open>
    <summary class="fw-semibold cursor-pointer">Patterns</summary>
    <ul class="list-unstyled mt-2" hx-boost="true">
      <li><a href="demo01" class="text-decoration-none">Demo 1: Submit form and replace itself, update error status.</a></li>
      <li><a href="demo02" class="text-decoration-none">Demo 2: Submit and preserve form. Display results somewhere.</a></li>
      <li><a href="demo03" class="text-decoration-none">Demo 3: Multi-step form and handling history. Appending results.</a></li>
      <li><a href="demo04" class="text-decoration-none">Demo 4: Error Pages and triggering client events from server.</a></li>
    </ul>
  </details>
{{ end }}

{{ block "footer" .}}
<footer class="sticky-bottom text-center">
    <small class="text-muted">&copy; 2025 Go and HTMX</small>
</footer>
{{ end }}
